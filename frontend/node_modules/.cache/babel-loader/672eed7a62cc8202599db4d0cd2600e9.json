{"ast":null,"code":"var _jsxFileName = \"/Users/alan/projects/back-end/web-chat/frontend/src/components/Authentication/Login.js\",\n    _s = $RefreshSig$();\n\nimport { FormControl, FormLabel } from \"@chakra-ui/form-control\";\nimport { Input, InputGroup, InputRightElement } from \"@chakra-ui/input\";\nimport { VStack } from \"@chakra-ui/layout\";\nimport { Button } from \"@chakra-ui/react\";\nimport React, { useState } from \"react\";\nimport { useToast } from \"@chakra-ui/react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [show, setShow] = useState(false);\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n  const history = useHistory();\n\n  const handleClick = () => setShow(!show);\n\n  const submitHandler = async () => {\n    setLoading(true);\n\n    if (!email || !password) {\n      toast({\n        title: \"Preencha todos os campos\",\n        status: \"warning\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\"\n      });\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\"\n        }\n      };\n      const {\n        data\n      } = await axios.post(\"/api/user/login\", {\n        email,\n        password\n      }, config);\n      toast({\n        title: \"Login realizado com sucesso!\",\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\"\n      });\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\n      setLoading(false);\n      history.push(\"/chats\");\n    } catch (error) {\n      toast({\n        title: \"Ocorreu um erro!\",\n        description: error.response.data.message,\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\"\n      });\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(VStack, {\n    spacing: \"5px\",\n    color: \"black\",\n    children: [/*#__PURE__*/_jsxDEV(FormControl, {\n      id: \"email\",\n      isRequired: true,\n      children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        value: this.state.value || email,\n        placeholder: \"E-mail\",\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      id: \"password\",\n      isRequired: true,\n      children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n        children: \"Senha\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          value: this.state.value || password,\n          type: show ? \"text\" : \"password\",\n          placeholder: \"Senha\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputRightElement, {\n          width: \"4.5rem\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            h: \"1.75rem\",\n            size: \"sm\",\n            onClick: handleClick,\n            children: show ? \"Esconder\" : \"Exibir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      colorScheme: \"blue\",\n      width: \"100%\",\n      color: \"white\",\n      style: {\n        marginTop: 15\n      },\n      onClick: submitHandler,\n      isLoading: loading,\n      children: \"Entrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"solid\",\n      colorScheme: \"red\",\n      width: \"100%\",\n      style: {\n        marginTop: 15\n      },\n      onClick: () => {\n        setEmail(\"guest@example.com\");\n        setPassword(\"123456\");\n      },\n      children: \"Obtenha suas credencias de usu\\xE1rio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"lkcVyWxPUgeB/DCxHt5rVAhcw0I=\", false, function () {\n  return [useToast, useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["FormControl","FormLabel","Input","InputGroup","InputRightElement","VStack","Button","React","useState","useToast","axios","useHistory","Login","show","setShow","email","setEmail","password","setPassword","loading","setLoading","toast","history","handleClick","submitHandler","title","status","duration","isClosable","position","config","headers","data","post","localStorage","setItem","JSON","stringify","push","error","description","response","message","state","value","e","target","marginTop"],"sources":["/Users/alan/projects/back-end/web-chat/frontend/src/components/Authentication/Login.js"],"sourcesContent":["import { FormControl, FormLabel } from \"@chakra-ui/form-control\";\nimport { Input, InputGroup, InputRightElement } from \"@chakra-ui/input\";\nimport { VStack } from \"@chakra-ui/layout\";\nimport { Button } from \"@chakra-ui/react\";\nimport React, { useState } from \"react\";\nimport { useToast } from \"@chakra-ui/react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Login = () => {\n  const [show, setShow] = useState(false);\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n  const history = useHistory();\n\n  const handleClick = () => setShow(!show);\n\n  const submitHandler = async () => {\n    setLoading(true);\n    if (!email || !password) {\n      toast({\n        title: \"Preencha todos os campos\",\n        status: \"warning\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n      });\n      setLoading(false);\n      return;\n    }\n    try {\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n      };\n      const { data } = await axios.post(\n        \"/api/user/login\",\n        { email, password },\n        config\n      );\n      toast({\n        title: \"Login realizado com sucesso!\",\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n      });\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\n      setLoading(false);\n      history.push(\"/chats\");\n    } catch (error) {\n      toast({\n        title: \"Ocorreu um erro!\",\n        description: error.response.data.message,\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n      });\n      setLoading(false);\n    }\n  };\n\n  return (\n    <VStack spacing=\"5px\" color=\"black\">\n      <FormControl id=\"email\" isRequired>\n        <FormLabel>Email</FormLabel>\n        <Input\n          value={this.state.value || email}\n          placeholder=\"E-mail\"\n          onChange={(e) => setEmail(e.target.value)}\n        />\n      </FormControl>\n      <FormControl id=\"password\" isRequired>\n        <FormLabel>Senha</FormLabel>\n        <InputGroup>\n          <Input\n            value={this.state.value || password}\n            type={show ? \"text\" : \"password\"}\n            placeholder=\"Senha\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          <InputRightElement width=\"4.5rem\">\n            <Button h=\"1.75rem\" size=\"sm\" onClick={handleClick}>\n              {show ? \"Esconder\" : \"Exibir\"}\n            </Button>\n          </InputRightElement>\n        </InputGroup>\n      </FormControl>\n      <Button\n        colorScheme=\"blue\"\n        width=\"100%\"\n        color=\"white\"\n        style={{ marginTop: 15 }}\n        onClick={submitHandler}\n        isLoading={loading}\n      >\n        Entrar\n      </Button>\n      <Button\n        variant=\"solid\"\n        colorScheme=\"red\"\n        width=\"100%\"\n        style={{ marginTop: 15 }}\n        onClick={() => {\n          setEmail(\"guest@example.com\");\n          setPassword(\"123456\");\n        }}\n      >\n        Obtenha suas credencias de usu√°rio\n      </Button>\n    </VStack>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}